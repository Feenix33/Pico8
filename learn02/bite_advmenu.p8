pico-8 cartridge // http://www.pico-8.com
version 34
__lua__
--[[
from nerdyteachers.com
the main.menu tutorial part ii advance
illustrates a more efficient state machine
]]--
-- ===== ===== ===== ===== ===== ===== ===== ===== ===== ===== ===== ===== =====


-- ===== ===== ===== ===== ===== ===== ===== ===== ===== ===== ===== ===== =====
function _init() --iiiiiii
  --variable
  x=63
  y=63
  -- first game state
  init_menu()
end

function init_menu()
  _update = update_menu
  _draw = draw_menu
end

function init_game()
  _update = update_game
  _draw = draw_game
end

function update_menu()
  if btnp(❎) then
    init_game()
  end
end

function draw_menu()
  cls()
  print("press ❎ to start", 30, 63)
end

function update_game()
  if btn(⬅️ )then x-=1 end
  if btn(➡️ )then x+=1 end
  if btn(⬆️ )then y-=1 end
  if btn(⬇️ )then y+=1 end
  if btnp(❎) then init_menu() end
end

function draw_game()
  cls()
  spr(1,x,y)
end

-- ===== ===== ===== ===== ===== ===== ===== ===== ===== ===== ===== ===== =====
__gfx__
0000000000aaaa000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
000000000aaaaaa00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000aaffaffa0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000aaf1af1a0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000aaaaaaaa0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000aa8aa8aa0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000009a88aa00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000009aaa000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
